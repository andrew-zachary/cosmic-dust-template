---
import Base from '../../../layouts/Base.astro';
import List from '../../../layouts/List.astro';
import Categories from '../../../layouts/Categories.astro';

import Section from '../../../components/articles/index/section.astro';

import translationsMeta from '../../../locals/meta.json';
import cats from '../../../locals/cats.json';

const {lang} = Astro.params;
const title = {'ar': 'مقالات','en': 'articles'};
const mdxFiles = await Astro.glob('../../../data/*.mdx');

export async function getStaticPaths() {

    return Object.keys(translationsMeta).map(metaLang => {
        return {params: {lang: translationsMeta[metaLang].name}};
    });
}
---

<Base title={title[lang]}>
    <Section />
    <Categories selectedCat={null} cats={cats} />
    <List mdxFiles={mdxFiles} />
</Base>

<style></style>
